(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[619],{55633:function(e,t,s){Promise.resolve().then(s.bind(s,23107))},89269:function(e,t,s){"use strict";s.d(t,{G:function(){return h}});var a=s(57437);s(2265);var i=s(47625),r=s(7476),l=s(97059),n=s(62994),c=s(8147),d=s(22190),o=s(23263),m=s(49856);let x=(e,t)=>{let s=new Date,a=[],i="1H"===t?60:"6H"===t?180:"1D"===t?288:"1W"===t?168:"1M"===t?180:365,r="1H"===t?.005:"6H"===t?.01:"1D"===t?.015:"1W"===t?.03:"1M"===t?.05:.08,l={};e.forEach(e=>{l[e.id]=e.probability});for(let t=0;t<i;t++){let n={time:new Date(s.getTime()-(i-t)*6e5).toISOString()},c=0,d={};e.forEach(e=>{let t=Math.random()*r*2-r;d[e.id]=Math.max(.01,Math.min(.99,l[e.id]+t)),c+=d[e.id]}),e.forEach(e=>{l[e.id]=d[e.id]/c,n[e.id]=l[e.id]}),a.push(n)}return a};function h(e){let{market:t,timeframe:s,data:h,isLoading:u=!1,className:g=""}=e,p=h||x(t.outcomes,s),j=e=>{let t=["#3DAD9C","#FF6B6B","#FFD166","#06D6A0","#118AB2","#8A4FFF","#F6F7F8","#52D6DF"];return t[e%t.length]},b=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=e=>"".concat((100*e).toFixed(1),"%");return u?(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(m.Od,{height:"300px"})}):(0,a.jsxs)("div",{className:"w-full bg-gray-900/30 backdrop-blur-sm rounded-xl p-4 ".concat(g),children:[(0,a.jsx)("h3",{className:"text-white font-medium mb-4",children:"Outcome Probabilities"}),(0,a.jsx)("div",{className:"h-[300px]",children:(0,a.jsx)(i.h,{width:"100%",height:"100%",children:(0,a.jsxs)(r.T,{data:p,margin:{top:10,right:10,left:0,bottom:0},children:[(0,a.jsx)("defs",{children:t.outcomes.map((e,t)=>(0,a.jsxs)("linearGradient",{id:"gradient-".concat(e.id),x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:j(t),stopOpacity:.8}),(0,a.jsx)("stop",{offset:"100%",stopColor:j(t),stopOpacity:.2})]},e.id))}),(0,a.jsx)(l.K,{dataKey:"time",tickFormatter:e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),stroke:"#6B7280",fontSize:12,tickLine:!1,axisLine:!1,tick:{fill:"#6B7280"}}),(0,a.jsx)(n.B,{tickFormatter:e=>f(e),domain:[0,1],stroke:"#6B7280",fontSize:12,tickLine:!1,axisLine:!1,tick:{fill:"#6B7280"}}),(0,a.jsx)(c.u,{content:(0,a.jsx)(e=>{let{active:t,payload:s,label:i}=e;return t&&s&&s.length?(0,a.jsxs)("div",{className:"bg-gray-900/90 backdrop-blur-sm border border-teal-900/20 p-3 rounded shadow-lg",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs mb-2",children:b(i)}),s.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("span",{style:{color:e.color},className:"font-medium",children:[e.name,":"]}),(0,a.jsx)("span",{className:"text-white font-bold",children:f(e.value)})]},"tooltip-".concat(t)))]}):null},{})}),(0,a.jsx)(d.D,{formatter:e=>{let s=t.outcomes.find(t=>t.id===e);return s?s.label:e},wrapperStyle:{paddingTop:"8px"}}),t.outcomes.map((e,t)=>(0,a.jsx)(o.u,{type:"monotone",dataKey:e.id,name:e.label,stroke:j(t),fill:"url(#gradient-".concat(e.id,")"),strokeWidth:2,dot:!1,activeDot:{r:6,strokeWidth:0}},e.id))]})})}),(0,a.jsx)("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 gap-3",children:t.outcomes.map((e,t)=>(0,a.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center mb-1",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:j(t)}}),(0,a.jsx)("span",{className:"text-white text-sm",children:e.label})]}),(0,a.jsx)("div",{className:"text-lg font-bold text-white",children:f(e.probability)})]},e.id))})]})}},49856:function(e,t,s){"use strict";s.d(t,{Mc:function(){return l},Od:function(){return r}});var a=s(57437),i=s(2265);function r(e){let{width:t="100%",height:s="12px",className:i=""}=e;return(0,a.jsx)("div",{className:"animate-pulse bg-gray-800 rounded ".concat(i),style:{width:t,height:s}})}function l(e){let{value:t,onChange:s,min:r=0,max:l=100,step:n=1,className:c=""}=e,[d,o]=(0,i.useState)(!1);return(0,a.jsxs)("div",{className:"h-2 bg-gray-800 rounded-full cursor-pointer relative ".concat(c),onClick:e=>{let t=e.currentTarget.getBoundingClientRect(),a=r+(e.clientX-t.left)/t.width*(l-r);s(Math.min(l,Math.max(r,Math.round(a/n)*n)))},children:[(0,a.jsx)("div",{className:"h-full bg-blue-600 rounded-full",style:{width:"".concat((t-r)/(l-r)*100,"%")}}),(0,a.jsx)("div",{className:"absolute top-1/2 w-4 h-4 bg-white rounded-full -mt-2 -ml-2 shadow-md\n                    transition-transform duration-150 transform ".concat(d?"scale-125":"scale-100"),style:{left:"".concat((t-r)/(l-r)*100,"%")},onMouseDown:()=>o(!0),onMouseUp:()=>o(!1),onMouseLeave:()=>o(!1)})]})}},23107:function(e,t,s){"use strict";s.d(t,{default:function(){return T}});var a=s(57437),i=s(2265),r=s(99810),l=s(49856);function n(e){let{children:t,className:s="",variant:i="default",onClick:r}=e;return(0,a.jsx)("div",{className:"".concat("rounded-lg overflow-hidden"," ").concat({default:"bg-gray-900 shadow-lg border border-teal-900/20",bordered:"bg-gray-900/60 border border-teal-800/30",filled:"bg-gray-800"}[i]," ").concat(r?"cursor-pointer hover:bg-gray-850":""," ").concat(s),onClick:r,children:t})}function c(e){let{bids:t=[],asks:s=[],spread:i=.02,isLoading:r=!1,maxOrdersToShow:c=8,showMyOrders:d=!0,onOrderClick:o}=e,m=e=>"$".concat(e.toFixed(3)),x=e=>e.toLocaleString("en-US",{maximumFractionDigits:2}),h=Math.max(Math.max(...t.map(e=>e.total),0),Math.max(...s.map(e=>e.total),0));return r?(0,a.jsx)(n,{children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Order Book"}),(0,a.jsxs)("div",{className:"space-y-2",children:[Array.from({length:5}).map((e,t)=>(0,a.jsx)(l.Od,{width:"100%",height:"24px"},"ask-".concat(t))),(0,a.jsx)("div",{className:"py-4",children:(0,a.jsx)(l.Od,{width:"80%",height:"32px"})}),Array.from({length:5}).map((e,t)=>(0,a.jsx)(l.Od,{width:"100%",height:"24px"},"bid-".concat(t)))]})]})}):(0,a.jsx)(n,{children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Order Book"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 text-xs text-gray-400 mb-2",children:[(0,a.jsx)("div",{children:"Price"}),(0,a.jsx)("div",{className:"text-right",children:"Quantity"}),(0,a.jsx)("div",{className:"text-right",children:"Total"})]}),(0,a.jsx)("div",{className:"space-y-1 mb-4",children:s.slice(0,c).map((e,t)=>(0,a.jsxs)("div",{className:"grid grid-cols-3 text-sm py-1 relative cursor-pointer hover:bg-gray-800/30 ".concat(e.isMine&&d?"border-l-2 border-blue-500":""),onClick:()=>o&&o(e,"ask"),children:[(0,a.jsx)("div",{className:"absolute right-0 top-0 bottom-0 bg-red-700/20",style:{width:"".concat(e.total/h*100,"%")}}),(0,a.jsx)("div",{className:"text-red-400 relative z-10",children:m(e.price)}),(0,a.jsx)("div",{className:"text-right relative z-10",children:x(e.quantity)}),(0,a.jsx)("div",{className:"text-right relative z-10",children:x(e.total)})]},"ask-".concat(t)))}),(0,a.jsxs)("div",{className:"py-2 px-3 mb-4 bg-gray-800/30 rounded text-center",children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Spread: "}),(0,a.jsxs)("span",{className:"text-white font-medium",children:["$",i.toFixed(3)," (",(100*i).toFixed(2),"%)"]})]}),(0,a.jsx)("div",{className:"space-y-1",children:t.slice(0,c).map((e,t)=>(0,a.jsxs)("div",{className:"grid grid-cols-3 text-sm py-1 relative cursor-pointer hover:bg-gray-800/30 ".concat(e.isMine&&d?"border-l-2 border-blue-500":""),onClick:()=>o&&o(e,"bid"),children:[(0,a.jsx)("div",{className:"absolute right-0 top-0 bottom-0 bg-green-700/20",style:{width:"".concat(e.total/h*100,"%")}}),(0,a.jsx)("div",{className:"text-green-400 relative z-10",children:m(e.price)}),(0,a.jsx)("div",{className:"text-right relative z-10",children:x(e.quantity)}),(0,a.jsx)("div",{className:"text-right relative z-10",children:x(e.total)})]},"bid-".concat(t)))}),0===t.length&&0===s.length&&(0,a.jsx)("div",{className:"py-12 text-center text-gray-400",children:"No orders in the book"})]})})}function d(e){let{activities:t=[],isLoading:s=!1,maxItemsToShow:i=10,onActivityClick:r}=e,c=e=>e.length<10?e:"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4)),d=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),o=e=>{let t=new Date(e),s=new Date,a=new Date(s);return(a.setDate(a.getDate()-1),t.toDateString()===s.toDateString())?"Today":t.toDateString()===a.toDateString()?"Yesterday":t.toLocaleDateString(void 0,{month:"short",day:"numeric"})},m=e=>{switch(e){case"buy":return"↗️";case"sell":return"↘️";case"liquidity":return"\uD83D\uDCA7";case"position":return"\uD83D\uDCCA";default:return"•"}},x=(e=>{let t={};return e.forEach(e=>{let s=o(e.timestamp);t[s]||(t[s]=[]),t[s].push(e)}),Object.entries(t)})(t);return s?(0,a.jsx)(n,{children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Recent Activity"}),(0,a.jsx)("div",{className:"space-y-3",children:Array.from({length:6}).map((e,t)=>(0,a.jsx)(l.Od,{width:"100%",height:"24px"},"activity-".concat(t)))})]})}):(0,a.jsx)(n,{children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Recent Activity"}),t.length>0?(0,a.jsx)("div",{className:"space-y-4",children:x.map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:t}),(0,a.jsx)("div",{className:"space-y-2",children:s.slice(0,i).map(e=>(0,a.jsxs)("div",{className:"flex items-center py-1.5 border-b border-gray-800 last:border-0 text-sm cursor-pointer hover:bg-gray-800/20",onClick:()=>r&&r(e),children:[(0,a.jsx)("div",{className:"w-6 text-center",children:m(e.type)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("span",{className:"font-medium ".concat("buy"===e.type?"text-green-400":"sell"===e.type?"text-red-400":"text-blue-400"),children:e.type.charAt(0).toUpperCase()+e.type.slice(1)}),(0,a.jsx)("span",{className:"mx-1",children:"•"}),(0,a.jsx)("span",{className:"".concat(e.user.isYou?"text-blue-300":"text-gray-400"),children:e.user.isYou?"You":c(e.user.address)})]}),(0,a.jsxs)("div",{className:"text-gray-300 flex justify-between mt-0.5",children:[(0,a.jsxs)("span",{children:[e.quantity.toLocaleString()," @ $",e.price.toFixed(3)]}),(0,a.jsx)("span",{className:"text-gray-500",children:d(e.timestamp)})]})]})]},e.id))})]},t)})}):(0,a.jsx)("div",{className:"py-10 text-center text-gray-400",children:"No recent activity"})]})})}function o(e){let{holders:t=[],isLoading:s=!1,maxToShow:i=5,onHolderClick:r}=e,c=e=>e.length<10?e:"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4)),d=e=>"$".concat(e.toLocaleString("en-US",{maximumFractionDigits:2})),o=t.reduce((e,t)=>e+t.position,0),m=e=>0===o?0:e/o*100;return s?(0,a.jsx)(n,{children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Top Holders"}),(0,a.jsx)("div",{className:"space-y-3",children:Array.from({length:5}).map((e,t)=>(0,a.jsx)(l.Od,{width:"100%",height:"24px"},"holder-".concat(t)))})]})}):(0,a.jsx)(n,{children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Top Holders"}),t.length>0?(0,a.jsx)("div",{className:"space-y-2",children:t.slice(0,i).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center py-2 border-b border-gray-800 last:border-0 text-sm cursor-pointer hover:bg-gray-800/20",onClick:()=>r&&r(e),children:[(0,a.jsx)("div",{className:"w-6 text-center text-gray-400",children:t+1}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"font-medium ".concat(e.isYou?"text-blue-300":"text-white"),children:e.isYou?"You":e.displayName||c(e.address)}),e.type&&(0,a.jsx)("span",{className:"ml-2 px-1.5 py-0.5 text-xs rounded ".concat("yes"===e.type?"bg-green-900/30 text-green-400":"no"===e.type?"bg-red-900/30 text-red-400":"bg-blue-900/30 text-blue-400"),children:e.type.toUpperCase()})]}),(0,a.jsxs)("div",{className:"flex justify-between text-gray-400 mt-1",children:[(0,a.jsxs)("div",{children:[e.quantity.toLocaleString()," shares"]}),(0,a.jsx)("div",{className:"font-medium text-white",children:d(e.position)})]})]}),(0,a.jsxs)("div",{className:"ml-3 w-16",children:[(0,a.jsx)("div",{className:"bg-gray-700 h-1.5 rounded-full w-full",children:(0,a.jsx)("div",{className:"h-full rounded-full ".concat("yes"===e.type?"bg-green-500":"no"===e.type?"bg-red-500":"bg-blue-500"),style:{width:"".concat(m(e.position),"%")}})}),(0,a.jsxs)("div",{className:"text-right text-xs text-gray-400 mt-0.5",children:[m(e.position).toFixed(1),"%"]})]})]},e.id))}):(0,a.jsx)("div",{className:"py-10 text-center text-gray-400",children:"No position holders yet"})]})})}var m=s(25425),x=s(90535),h=s(22835);let u=(0,x.j)("flex w-full rounded-lg border bg-transparent px-3 py-2 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-white/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"border-white/20 focus:border-white/30 focus-visible:ring-white/20",filled:"border-transparent bg-white/10 focus:bg-white/15 focus-visible:ring-white/20"},inputSize:{default:"h-10",sm:"h-8 px-2",lg:"h-12 px-4"}},defaultVariants:{variant:"default",inputSize:"default"}}),g=i.forwardRef((e,t)=>{let{className:s,variant:i,inputSize:r,type:l,...n}=e;return(0,a.jsx)("input",{type:l,className:(0,h.cn)(u({variant:i,inputSize:r,className:s})),ref:t,...n})});function p(e){var t;let{market:s,isLoading:r,selectedOutcome:c,setSelectedOutcome:d,orderType:o,setOrderType:x,onTrade:h}=e,[u,p]=(0,i.useState)(""),[j,b]=(0,i.useState)(1),[f,y]=(0,i.useState)(!1);(0,i.useEffect)(()=>{s.outcomes.length>0&&!s.outcomes.some(e=>e.id===c)&&d(s.outcomes[0].id)},[s,c]);let v=()=>{let e=parseFloat(u);if(isNaN(e)||e<=0)return 0;let t=s.outcomes.find(e=>e.id===c);return t?e/t.price:0},N=e=>"".concat(e.toFixed(1),"%"),w=e=>"$".concat(e.toFixed(2)),M=async e=>{e.preventDefault();let t=parseFloat(u);if(isNaN(t)||t<=0)return;let a=s.outcomes.find(e=>e.id===c);if(a){y(!0);try{await h({outcome:c,quantity:v(),price:a.price,slippage:j,orderType:o}),p("")}catch(e){console.error("Trade failed:",e)}finally{y(!1)}}};return(0,a.jsxs)(n,{className:"p-4",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Place a Trade"}),(0,a.jsxs)("form",{onSubmit:M,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Select Outcome"}),(0,a.jsx)("div",{className:"grid gap-2",children:s.outcomes.map(e=>(0,a.jsx)("button",{type:"button",className:"p-3 rounded-lg text-left transition ".concat(c===e.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"),onClick:()=>d(e.id),children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{children:e.label}),(0,a.jsx)("span",{className:"font-medium",children:N(100*e.probability)})]})},e.id))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Order Type"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)("button",{type:"button",className:"p-2 rounded-lg transition ".concat("limit"===o?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"),onClick:()=>x("limit"),children:"Limit"}),(0,a.jsx)("button",{type:"button",className:"p-2 rounded-lg transition ".concat("market"===o?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"),onClick:()=>x("market"),children:"Market"})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Amount (USDC)"}),(0,a.jsx)(g,{type:"number",value:u,onChange:e=>p(e.target.value),placeholder:"0.00",min:"0.01",step:"0.01",required:!0,prefix:"$"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"block text-sm text-gray-400 mb-2",children:["Slippage Tolerance: ",N(j)]}),(0,a.jsx)(l.Mc,{value:j,onChange:b,min:.1,max:5,step:.1})]}),u&&!isNaN(parseFloat(u))&&(0,a.jsxs)("div",{className:"mb-6 p-3 bg-gray-800/50 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm text-gray-400 mb-2",children:"Trade Summary"}),(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"You pay:"}),(0,a.jsx)("span",{className:"text-white",children:w(parseFloat(u))})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"You receive:"}),(0,a.jsxs)("span",{className:"text-white",children:[v().toFixed(2)," shares"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Price per share:"}),(0,a.jsx)("span",{className:"text-white",children:w((null===(t=s.outcomes.find(e=>e.id===c))||void 0===t?void 0:t.price)||0)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Max payout:"}),(0,a.jsx)("span",{className:"text-green-400",children:w(v())})]})]})]}),(0,a.jsx)(m.z,{type:"submit",variant:"yes"===c?"success":"no"===c?"danger":"primary",disabled:!u||isNaN(parseFloat(u))||0>=parseFloat(u)||!c||f,className:"w-full py-3",children:f?"Processing...":"Place Trade"})]}),(0,a.jsxs)("div",{className:"mt-4 text-xs text-gray-400 text-center",children:["This market ","closed"===s.status?"ended":"ends"," on ",new Date(s.endsAt).toLocaleDateString()]})]})}g.displayName="Input";var j=s(89269),b=s(27648),f=s(33145),y=s(72511),v=s(98632),N=s(29330),w=s(53791);let M=e=>{let t=new Date,s=[],a=.65,i="1H"===e?60:"6H"===e?180:"1D"===e?288:"1W"===e?168:"1M"===e?180:365,r="1H"===e?.002:"6H"===e?.003:"1D"===e?.005:"1W"===e?.01:"1M"===e?.02:.04;for(let e=0;e<i;e++){let l=new Date(t.getTime()-(i-e)*6e4);(a+=Math.random()*r*2-r)<.45&&(a=.45+.02*Math.random()),a>.85&&(a=.85-.02*Math.random()),s.push({time:l.toISOString(),value:a})}return s},k=()=>{let e=[],t=[];for(let t=0;t<10;t++){let s=.65-.005*t-.002*Math.random(),a=Math.floor(1e3*Math.random())+100;e.push({price:s,quantity:a,total:s*a,isMine:3===t})}for(let e=0;e<10;e++){let s=.65+.005*e+.002*Math.random(),a=Math.floor(1e3*Math.random())+100;t.push({price:s,quantity:a,total:s*a,isMine:2===e})}return e.sort((e,t)=>t.price-e.price),t.sort((e,t)=>e.price-t.price),{bids:e,asks:t}},D=()=>{let e=[],t=["yes","no","liquidity"];for(let s=0;s<7;s++){let a=t[Math.floor(Math.random()*t.length)],i=Math.floor(5e4*Math.random())+5e3,r=Math.floor(i/10);e.push({id:"holder-".concat(s),address:"0x".concat(Math.random().toString(16).substring(2,10),"...").concat(Math.random().toString(16).substring(2,10)),position:i,quantity:r,type:a,isYou:1===s})}return e.sort((e,t)=>t.position-e.position),e},S=()=>{let e=[],t=["buy","sell","liquidity","position"],s=new Date;for(let a=0;a<12;a++){let i=t[Math.floor(Math.random()*t.length)],r=.6+.1*Math.random(),l=Math.floor(1e3*Math.random())+50,n=new Date(s.getTime()-2592e5*Math.random());e.push({id:"activity-".concat(a),type:i,timestamp:n.toISOString(),price:r,quantity:l,user:{address:"0x".concat(Math.random().toString(16).substring(2,10),"...").concat(Math.random().toString(16).substring(2,10)),isYou:2===a||7===a}})}return e.sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()),e};function T(e){let{marketId:t}=e,[s,l]=(0,i.useState)(!0),[x,h]=(0,i.useState)(null),[u,g]=(0,i.useState)("yes"),[T,F]=(0,i.useState)("1D"),[C,O]=(0,i.useState)("limit"),[z,A]=(0,i.useState)([]),[L,H]=(0,i.useState)({bids:[],asks:[]}),[B,q]=(0,i.useState)([]),[E,K]=(0,i.useState)([]);(0,i.useEffect)(()=>{(async()=>{l(!0);try{let e=(0,y.oc)(t);e?h(e):console.error("Market not found"),A(M(T)),H(k()),K(S()),q(D())}catch(e){console.error("Error loading market data:",e)}finally{l(!1)}})()},[t,T]);let P=async e=>{console.log("Trade submitted:",e),await new Promise(e=>setTimeout(e,1e3)),alert("Trade successful: ".concat(e.outcome," - ").concat(e.quantity," @ ").concat(e.price)),A(M(T)),H(k()),K(S()),q(D())},Y=e=>{g(e);let t=document.getElementById("trading-section");t&&t.scrollIntoView({behavior:"smooth"})};return x||s?(0,a.jsxs)("div",{className:"container mx-auto px-4 pb-20",children:[(0,a.jsx)("div",{className:"mt-8",children:s||!x?(0,a.jsx)("div",{className:"h-64 bg-gray-800 rounded-lg animate-pulse"}):(0,a.jsxs)("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 border border-teal-900/30 rounded-lg p-6 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 h-1 bg-gradient-to-r from-teal-500 to-teal-400 w-full"}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:x.title}),(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:x.description}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm",children:"Volume"}),(0,a.jsxs)("div",{className:"text-white font-medium",children:["$",x.totalVolume?(x.totalVolume/1e3).toFixed(0)+"K":"N/A"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm",children:"Liquidity"}),(0,a.jsxs)("div",{className:"text-white font-medium",children:["$",x.liquidity?(x.liquidity/1e3).toFixed(0)+"K":"N/A"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm",children:"Category"}),(0,a.jsx)("div",{className:"text-white font-medium capitalize",children:x.category})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm",children:"Ends In"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"text-white font-medium mr-2",children:(()=>{if(!x)return"Loading...";let e=new Date,t=new Date(x.endDate).getTime()-e.getTime();if(t<=0)return"Ended";let s=Math.floor(t/864e5),a=Math.floor(t%864e5/36e5);return s>0?"".concat(s,"d ").concat(a,"h"):"".concat(a,"h ").concat(Math.floor(t%36e5/6e4),"m")})()}),x&&(0,a.jsx)("div",{className:"w-16 h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-teal-500",style:{width:"".concat((()=>{if(!x)return 0;let e=new Date,t=new Date(x.endDate),s=new Date(x.createdAt);if(e>=t)return 100;let a=t.getTime()-s.getTime();return 100-Math.min(100,Math.max(0,(e.getTime()-s.getTime())/a*100))})(),"%")}})})]})]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:x.outcomes.map(e=>(0,a.jsxs)(m.z,{variant:"primary",size:"sm",className:"min-w-24 flex items-center justify-between gap-2",onClick:()=>Y(e.id),children:[(0,a.jsx)("span",{children:e.label}),(0,a.jsxs)("span",{className:"bg-black/20 px-2 py-0.5 rounded-sm text-xs",children:[(100*e.probability).toFixed(0),"%"]})]},e.id))})]}),(0,a.jsx)("div",{className:"relative w-full md:w-40 h-40 rounded-lg overflow-hidden bg-gray-700 border border-gray-600",children:x.imageUrl?(0,a.jsx)(f.default,{src:x.imageUrl,alt:x.title,fill:!0,sizes:"(max-width: 768px) 100vw, 160px",className:"object-cover",priority:!0}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-16 h-16 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mt-4 border-t border-gray-700 pt-4",children:[(0,a.jsxs)(b.default,{href:"/markets/charts?id=".concat(t),className:"inline-flex items-center px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-md text-sm",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"View Charts"]}),(0,a.jsxs)(m.z,{variant:"secondary",size:"sm",className:"inline-flex items-center",children:[(0,a.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),"Share"]}),(0,a.jsxs)(m.z,{variant:"secondary",size:"sm",className:"inline-flex items-center",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4 mr-2"}),"Report"]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(n,{className:"relative",children:[(0,a.jsx)("h3",{className:"font-medium text-lg mb-4",children:"Price Chart"}),(0,a.jsx)("div",{className:"mb-4 border-b border-gray-700 pb-3",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["1H","6H","1D","1W","1M","ALL"].map(e=>(0,a.jsx)("button",{className:"px-3 py-1 text-sm rounded-md ".concat(T===e?"bg-teal-500 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"),onClick:()=>F(e),children:e},e))})}),s?(0,a.jsx)("div",{className:"h-72 bg-gray-800 animate-pulse rounded-md"}):(0,a.jsx)(j.G,{market:x,timeframe:T})]}),(0,a.jsx)(n,{children:s?(0,a.jsx)("div",{className:"h-72 bg-gray-800 animate-pulse rounded-md"}):(0,a.jsx)(c,{bids:L.bids,asks:L.asks})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(n,{className:"relative",children:(0,a.jsxs)("div",{id:"trading-section",children:[(0,a.jsx)("h3",{className:"font-medium text-lg mb-4",children:"Trade"}),s?(0,a.jsx)("div",{className:"h-96 bg-gray-800 animate-pulse rounded-md"}):(0,a.jsx)(p,{market:x,isLoading:s,selectedOutcome:u,setSelectedOutcome:g,orderType:C,setOrderType:O,onTrade:P})]})}),(0,a.jsx)(n,{children:(0,a.jsxs)(r.OK.Group,{children:[(0,a.jsxs)(r.OK.List,{className:"flex space-x-1 rounded-lg bg-gray-800 p-1",children:[(0,a.jsx)(r.OK,{className:e=>{let{selected:t}=e;return"w-full py-2 text-sm leading-5 rounded-md\n                  ".concat(t?"bg-teal-500 text-white font-medium":"text-gray-400 hover:bg-gray-700 hover:text-white")},children:"Activity"}),(0,a.jsx)(r.OK,{className:e=>{let{selected:t}=e;return"w-full py-2 text-sm leading-5 rounded-md\n                  ".concat(t?"bg-teal-500 text-white font-medium":"text-gray-400 hover:bg-gray-700 hover:text-white")},children:"Top Holders"})]}),(0,a.jsxs)(r.OK.Panels,{className:"mt-4",children:[(0,a.jsx)(r.OK.Panel,{children:s?(0,a.jsx)("div",{className:"h-96 bg-gray-800 animate-pulse rounded-md"}):(0,a.jsx)(d,{activities:E})}),(0,a.jsx)(r.OK.Panel,{children:s?(0,a.jsx)("div",{className:"h-96 bg-gray-800 animate-pulse rounded-md"}):(0,a.jsx)(o,{holders:B})})]})]})})]})]})]}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-20 text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-4",children:"Market Not Found"}),(0,a.jsx)("p",{className:"text-gray-400 mb-8",children:"The market you're looking for doesn't exist or has been removed."}),(0,a.jsx)(b.default,{href:"/markets",className:"inline-flex items-center px-4 py-2 bg-blue-600 rounded-md text-white",children:"Browse All Markets"})]})}}},function(e){e.O(0,[851,648,145,879,349,311,971,117,744],function(){return e(e.s=55633)}),_N_E=e.O()}]);